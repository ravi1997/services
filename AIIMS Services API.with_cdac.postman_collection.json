{
	"info": {
		"name": "AIIMS Services - Full API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"description": "Collection to exercise SMS, Email, CDAC and eHospital endpoints, admin/task actions, health and metrics."
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000"
		},
		{
			"key": "sms_token",
			"value": "your-sms-token"
		},
		{
			"key": "admin_token",
			"value": "your-admin-token"
		},
		{
			"key": "idempotency_key",
			"value": "demo-idempotency-123"
		},
		{
			"key": "correlation_id",
			"value": ""
		},
		{
			"key": "task_id",
			"value": ""
		},
		{
			"key": "record_id",
			"value": "1"
		}
	],
	"item": [
		{
			"name": "Core",
			"item": [
				{
					"name": "Global Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{base_url}}/health"
					}
				},
				{
					"name": "Metrics",
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{base_url}}/metrics"
					}
				}
			]
		},
		{
			"name": "SMS",
			"item": [
				{
					"name": "Send Single SMS",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"mobile\": \"+911234567890\",\n  \"message\": \"Hello from AIIMS\"\n}"
						},
						"url": "{{base_url}}/services/api/v1/sms/single"
					}
				},
				{
					"name": "Send Single SMS (Idempotent)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							},
							{
								"key": "Idempotency-Key",
								"value": "{{idempotency_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"mobile\": \"+911234567890\",\n  \"message\": \"Idempotent Hello\"\n}"
						},
						"url": "{{base_url}}/services/api/v1/sms/single"
					}
				},
				{
					"name": "Send Bulk SMS",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"mobiles\": [\"+911234567890\", \"+911098765432\"],\n  \"message\": \"Bulk Hello from AIIMS\"\n}"
						},
						"url": "{{base_url}}/services/api/v1/sms/bulk"
					}
				},
				{
					"name": "SMS Health",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/sms/health"
					}
				}
			]
		},
		{
			"name": "Email",
			"item": [
				{
					"name": "Send Single Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"to\": \"recipient@example.com\",\n  \"subject\": \"Test Email\",\n  \"body\": \"This is a test email.\",\n  \"correlation_id\": \"{{correlation_id}}\"\n}"
						},
						"url": "{{base_url}}/services/api/v1/mail/single"
					}
				},
				{
					"name": "Send Single Email (Idempotent)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							},
							{
								"key": "Idempotency-Key",
								"value": "{{idempotency_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"to\": \"recipient@example.com\",\n  \"subject\": \"Idempotent Email\",\n  \"body\": \"Idempotent body\"\n}"
						},
						"url": "{{base_url}}/services/api/v1/mail/single"
					}
				},
				{
					"name": "Send Bulk Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"to\": [\"recipient1@example.com\", \"recipient2@example.com\"],\n  \"subject\": \"Bulk Subject\",\n  \"body\": \"Bulk body content\"\n}"
						},
						"url": "{{base_url}}/services/api/v1/mail/bulk"
					}
				},
				{
					"name": "Email Health",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/mail/health"
					}
				}
			]
		},
		{
			"name": "CDAC",
			"item": [
				{
					"name": "CDAC Fetch (single)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"request_id\": \"employee_123\"\n}"
						},
						"url": "{{base_url}}/services/api/v1/cdac/fetch"
					}
				},
				{
					"name": "CDAC Bulk Fetch",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"request_ids\": [\"employee_123\", \"employee_456\"]\n}"
						},
						"url": "{{base_url}}/services/api/v1/cdac/bulk_fetch"
					}
				},
				{
					"name": "CDAC Health",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/cdac/health"
					}
				}
			]
		},
		{
			"name": "eHospital",
			"item": [
				{
					"name": "Patient Details Fetch",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"uhid\": \"1234567890\"\n}"
						},
						"url": "{{base_url}}/services/api/v1/ehospital/patient"
					}
				},
				{
					"name": "Bulk Patient Details Fetch",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"uhids\": [\"1234567890\", \"0987654321\"]\n}"
						},
						"url": "{{base_url}}/services/api/v1/ehospital/bulk_patient"
					}
				},
				{
					"name": "eHospital Health",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{sms_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/ehospital/health"
					}
				}
			]
		},
		{
			"name": "Admin (SMS & Email)",
			"item": [
				{
					"name": "List SMS Messages (admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/sms/messages?per_page=20&page=1"
					}
				},
				{
					"name": "SMS Message Status (admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/sms/status/{{record_id}}"
					}
				},
				{
					"name": "SMS Task Status (admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/sms/tasks/{{task_id}}"
					}
				},
				{
					"name": "Cancel SMS Task (admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/sms/tasks/{{task_id}}/cancel"
					}
				},
				{
					"name": "List Email Messages (admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/mail/messages?per_page=20&page=1"
					}
				},
				{
					"name": "Email Message Status (admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/mail/status/{{record_id}}"
					}
				},
				{
					"name": "Email Task Status (admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/mail/tasks/{{task_id}}"
					}
				},
				{
					"name": "Cancel Email Task (admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": "{{base_url}}/services/api/v1/mail/tasks/{{task_id}}/cancel"
					}
				}
			]
		}
	]
}